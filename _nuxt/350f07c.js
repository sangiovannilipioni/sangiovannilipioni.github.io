(window.webpackJsonp=window.webpackJsonp||[]).push([[14,7],{386:function(t,e,n){},390:function(t,e,n){"use strict";n(386)},392:function(t,e,n){"use strict";n.r(e);var r=n(6),o=n(11);n(36),n(96),n(19),n(14),n(22),n(29),n(16),n(30);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={data:function(){return{unitArray:[],unitIndex:0,next:void 0,prev:void 0}},computed:{here:function(){return"datasheets"===this.to?"blueprints":"datasheets"},unit:function(){return this.units[this.unit_key]}},methods:{thisUnitIndex:function(){for(var i=0;i<this.unitArray.length&&this.unitArray[i].key!==this.$route.params.slug;i++);return i},nextUnit:function(){var i=this.unitIndex;if(i+1<this.unitArray.length)return this.unitArray[(i+1)%this.unitArray.length].key},previousUnit:function(){var i=this.unitIndex;if(0<i)return this.unitArray[(i+this.unitArray.length-1)%this.unitArray.length].key}},props:{to:{default:void 0,type:String,required:!1},unit_key:{default:void 0,type:String,required:!0},units:{default:[],type:Object,required:!0}},mounted:function(){var t=this;this.unitArray=Object.entries(this.units).map((function(t){var e=Object(o.a)(t,2);return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({key:e[0]},e[1])})),this.unitIndex=this.thisUnitIndex(),this.prev=this.previousUnit(),this.next=this.nextUnit(),this.$nextTick((function(){var e=t;t.$refs.modalvideo&&(t.$refs.modalvideo.addEventListener("shown.bs.modal",(function(){e.$refs.plyr.player.play()})),t.$refs.modalvideo.addEventListener("hidden.bs.modal",(function(){e.$refs.plyr.player.stop()})))}))}},d=(n(390),n(8)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex",staticStyle:{"margin-bottom":"0.5rem"}},[n("div",{staticClass:"flex-grow-1",staticStyle:{margin:"auto"}},[t.to&&t.unit_key?n("nuxt-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:t.localePath("/"+t.to+"/"+t.unit_key),target:"_self"}},[t._v("\n        "+t._s(t.$t(t.to))+"\n      ")]):t._e()],1),t._v(" "),t.unit&&t.unit.video?n("div",[n("button",{staticClass:"btn float-end btn-outline-secondary btn-sm",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#modalvideo"}},[t._v("\n        Video\n      ")])]):t._e()]),t._v(" "),n("div",{staticClass:"d-flex justify-content-center",staticStyle:{"margin-bottom":"0.5rem"}},[t.here&&t.prev?n("nuxt-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:t.localePath("/"+t.here+"/"+t.prev),target:"_self"}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}}),t._v(" "),n("span",{staticClass:"text-muted",staticStyle:{"font-size":"smaller"}},[t._v("["+t._s(t.prev)+"]")])],1):n("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{disabled:""}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-left"]}})],1),t._v(" "),n("div",{staticClass:"mx-4",attrs:{id:"title"}},[t.unit&&t.unit.title?n("b",{staticStyle:{"font-size":"larger"}},[t._v(t._s(t.unit.title))]):t._e(),t._v(" "),t.unit_key?n("span",{staticClass:"text-muted",staticStyle:{"font-size":"smaller"}},[t._v("["+t._s(t.unit_key)+"]")]):t._e()]),t._v(" "),t.here&&t.next?n("nuxt-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:t.localePath("/"+t.here+"/"+t.next),target:"_self"}},[n("span",{staticClass:"text-muted",staticStyle:{"font-size":"smaller"}},[t._v("["+t._s(t.next)+"]")]),t._v(" "),n("font-awesome-icon",{attrs:{icon:["fas","arrow-right"]}})],1):n("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{disabled:""}},[n("font-awesome-icon",{attrs:{icon:["fas","arrow-right"]}})],1)],1),t._v(" "),t.unit&&t.unit.video?n("div",{ref:"modalvideo",staticClass:"modal fade",attrs:{id:"modalvideo",tabindex:"-1"}},[n("div",{staticClass:"modal-dialog modal-xl"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[t.unit&&t.unit.title?n("h5",{staticClass:"modal-title",attrs:{id:"modalLabel"}},[t._v(t._s(t.unit.title))]):t._e(),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"modal-body"},[n("client-only",[t.unit.video?n("vue-plyr",{ref:"plyr",attrs:{id:"qwe",options:{mute:!0,volume:0,captions:!0,autoplay:!1}}},[n("div",{attrs:{"data-plyr-provider":"youtube","data-plyr-embed-id":t.unit.video}})]):t._e()],1)],1)])])]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],!1,null,null,null);e.default=component.exports},419:function(t,e,n){},436:function(t,e,n){"use strict";var r=n(2),o=n(68),c=n(437),l=n(260),d=n(7),m=1..toFixed,f=Math.floor,v=function(t,e,n){return 0===e?n:e%2==1?v(t,e-1,n*t):v(t*t,e/2,n)},h=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=f(r/1e7)},_=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=f(n/t),n=n%t*1e7},y=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+l.call("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:m&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){m.call({})}))},{toFixed:function(t){var e,n,r,d,m=c(this),f=o(t),data=[0,0,0,0,0,0],x="",C="0";if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(m!=m)return"NaN";if(m<=-1e21||m>=1e21)return String(m);if(m<0&&(x="-",m=-m),m>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(m*v(2,69,1))-69)<0?m*v(2,-e,1):m/v(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(data,0,n),r=f;r>=7;)h(data,1e7,0),r-=7;for(h(data,v(10,r,1),0),r=e-1;r>=23;)_(data,1<<23),r-=23;_(data,1<<r),h(data,1,1),_(data,2),C=y(data)}else h(data,0,n),h(data,1<<-e,0),C=y(data)+l.call("0",f);return C=f>0?x+((d=C.length)<=f?"0."+l.call("0",f-d)+C:C.slice(0,d-f)+"."+C.slice(d-f)):x+C}})},437:function(t,e){var n=1..valueOf;t.exports=function(t){return n.call(t)}},438:function(t,e,n){"use strict";n(419)},468:function(t,e,n){"use strict";n.r(e);n(19),n(14),n(29),n(30);var r=n(3),o=n(6);n(28),n(436),n(27),n(57),n(22),n(21),n(16),n(79),n(37);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{title:"",tabNodes:[],tabIndex:0,showBreadcrumbs:!1}},fetch:function(){if(this.units&&this.units[this.$route.params.slug]){var data=this.massageData(this.units[this.$route.params.slug].rawData);this.units[this.$route.params.slug].massaged=data}},computed:{slug:function(){return this.$route.params.slug},sheets:function(){return this.units[this.$route.params.slug].massaged}},created:function(){var t=this;this.$nextTick((function(){t.tabIndex=t.$store.state.tab.tab2,t.showBreadcrumbs=t.$store.state.tab.breadcrumbs}))},beforeDestroy:function(){if(this.tabNodes&&Array.isArray(this.tabNodes))for(var i=0;i<this.tabNodes.length;i++)this.tabNodes[i].removeEventListener("shown.bs.tab",this.onTabShown)},mounted:function(){var t=this;this.$nextTick((function(){var e=document.getElementById("myTabs");if(e&&(t.tabNodes=e.getElementsByTagName("A"),t.tabNodes&&t.tabNodes.length))for(var i=0;i<t.tabNodes.length;i++)t.tabNodes[i].addEventListener("shown.bs.tab",t.onTabShown)}))},methods:{toggleBreadcrumbs:function(){this.showBreadcrumbs=!this.showBreadcrumbs,this.$store.commit("tab/setBreadcrumbs",{breadcrumbs:this.showBreadcrumbs})},onTabShown:function(t){this.tabIndex=parseInt(t.target.id.substring(1)),this.$store.commit("tab/setTab2",{tab2:this.tabIndex})},massageData:function(t){var e=this;if(!t)return t;function n(t,style){t.style=l(l({},t.style),style)}function r(t){isNaN(t.text)||(0!==t.col&&(t.text=parseFloat(t.text).toFixed(2)),t.text=t.text.replace(/\.0+$/,"").replace(/(\.[1-9]*)0+$/,"$1"))}var o={"01_id_edificio":"Identificazione","02_descriz_edificio":"Descrizione","03_dati_metrici_AB":"Dati metrici","04_dati_costrutt_VERT_IQM":"Caratteristiche costruttive muratura","04_dati_costrutt_CARENZE":"Caratteristiche costruttive solai"},c="#ffc000",d="#fff2cd",m="#ffe699",f="#ededed",v="#eff5e9",h="#d7d7d7",_="#a42424",y="#ededed",x="#dddddd",C="#c6e0b3",w="#fffff",k={"stato di conservaz":"stato di conservazione",carenzestrutturali:"carenze strutturali",IQM:"indice di qualità muraria (IQM)","1:ottimo":"&nbsp;","2:medio":"&nbsp;","3:scarso":"&nbsp;"};return(t=t.filter((function(t){return o[t.name]}))).forEach((function(t){t.id="_".concat(t.name.replace(" ","_")),t.title=o[t.name],t.columnCount=+t.columnCount,t.rows.shift();var l="01_id_edificio"===t.name,I="02_descriz_edificio"===t.name,O=(t.name,"04_dati_costrutt_VERT_IQM"===t.name),$="04_dati_costrutt_CARENZE"===t.name,A={id:void 0,row:0,get level(){var t=0;return this.id&&(t=1+(this.id.match(/\./g)||[]).length),t}},E={ignore:void 0,color:void 0,cellBackground:void 0,shrinkColumnCountToMakeSpaceForImage:0};t.rows.forEach((function(o,j){var S=!0===E.ignore;E.color&&(n(o,{color:E.color}),E.color=void 0);var T={indirizzo:void 0,imageCell:void 0,background:void 0};if(E.cellBackground&&(T.background=E.cellBackground,E.cellBackground=void 0),E.shrinkColumnCountToMakeSpaceForImage&&(o.makeSpaceForImage=!0,E.shrinkColumnCountToMakeSpaceForImage=E.shrinkColumnCountToMakeSpaceForImage-1),o.cells.forEach((function(j,B){if(j.col=+j.col,void 0===j.text&&(j.text=""),k[j.text]&&(j.html=k[j.text]),0===B&&0===j.col&&!isNaN(j.text.replace(".",""))){S=!1,A.id=j.text,A.row=0;var z=y;($||O)&&3===A.level&&0===A.row&&(z=x),n(o,{backgroundColor:z})}r(j);var N,D=function(t,n){if(e.units[e.$route.params.slug].inserts[A.id])return{col:t,rowspan:n,html:"<img style='width:120px;' src='".concat(e.$axios.defaults.baseURL,"/image/").concat(e.units[e.$route.params.slug].inserts[A.id],"' />"),style:{padding:"1rem 0 1rem 1rem",verticalAlign:"middle"}}},F=function(t){if(t.text.match(/^[ABC123\-]$/g))return"<span class='badge rounded-pill ".concat("1"===t.text||"A"===t.text?"bg-success":"2"===t.text||"B"===t.text?"bg-warning":"3"===t.text||"C"===t.text?"bg-danger":"bg-info","' title='1/A:ottimo 2/B:medio 3/C:scarso'\n                 onclick='window.scrollTo(0,document.body.scrollHeight);'>\n                ").concat(t.text,"\n              </span>")};if(l)j.text.match(/^DATI CATASTALI$/g)&&(E.ignore=!0,S=!0),j.text.match(/^(-?\d+(\.\d+)?),\s*(-?\d+(\.\d+)?)$/g)&&(j.html="<a href='https://www.google.com/maps/search/?api=1&query=".concat(j.text.replace(" ",""),"' target='_blank'>").concat(j.text,"</a>")),T.indirizzo&&(e.title=j.text,T.indirizzo=void 0),"INDIRIZZO"===j.text&&(T.indirizzo=j);else if(I)j.text.match(/^(CARATTERISTICHE EDIFICIO|estremità)$/g)&&(E.color=_);else if(O){if(j.col<=3&&j.text.match(/(codice id. elementi costruttivi|IQMv|IQMo,fp|IQMo,np)/g)&&(S=!0),j.text.match(/pareti (interne|esterne)/g)&&(T.background=void 0,n(j,{fontWeight:"bold"})),j.text.match(/CATEGORIA/g)&&(S=!0),j.text.match(/^[ABC][123]$/g)&&(T.background=C,E.cellBackground=f,n(j,{fontWeight:"bold"})),j.text.match(/^IQMv,/g)&&n(j,{whiteSpace:"nowrap"}),0!==A.row&&(4===j.col||5===j.col||6===j.col)){var P=F(j);P&&(j.html=P)}j.text.match(/materiali/g)&&(T.imageCell=D(t.columnCount,4),T.imageCell&&(o.makeSpaceForImage=!0,E.shrinkColumnCountToMakeSpaceForImage=T.imageCell.rowspan-1,n(T.imageCell,{backgroundColor:w}),t.hasImage=o.hasImage=!0)),0!==A.row&&T.background&&1<j.col&&(n(j,{backgroundColor:T.background}),T.background===f&&n(j,{textAlign:"center"}),T.background===f&&(T.background=v,E.cellBackground=f)),j.text.match(/^IQM[vo]/g)&&n(j,{backgroundColor:h})}else if($){if(S&&(N=j.text,!/[a-z]/.test(N)&&/[A-Z]/.test(N)||0===A.row)&&(S=!1,E.ignore=!1,T.background=m),j.text.match(/(1\:ottimo|2\:medio|3\:scarso)/g)&&n(j,{display:"none"}),0!==A.row&&4===j.col){var M=F(j);M&&(j.html=M)}3===A.level&&0===A.row&&(E.cellBackground=c,5===j.col&&n(j,{fontWeight:"bold",textAlign:"right"})),j.text.match(/materiali/g)&&(T.imageCell=D(t.columnCount,4),T.imageCell&&(o.makeSpaceForImage=!0,E.shrinkColumnCountToMakeSpaceForImage=T.imageCell.rowspan-1,n(T.imageCell,{backgroundColor:w}),t.hasImage=!0)),0!==A.row&&T.background&&1<j.col&&(T.background===c?E.cellBackground=m:T.background===m&&(E.cellBackground=f),n(j,{backgroundColor:T.background}),T.background!==c&&T.background!==m||n(j,{fontWeight:"bold"}),T.background===f&&n(j,{textAlign:"center"}),T.background===f&&(T.background=d,E.cellBackground=f))}})),S&&n(o,{display:"none"}),!S){var B={col:-1,text:A.id};r(B),B.html="".concat(B.text,"\n              <span style='float: right; margin-left: 0.5rem; color: lightgray;'>\n                ").concat(A.row,"\n              </span>"),o.cells.unshift(B),!0!==E.ignore&&(A.row=A.row+1,$&&3===A.level&&2===A.row&&(E.ignore=!0))}T.imageCell&&(o.cells.push(T.imageCell),T.imageCell=void 0)}))})),t.forEach((function(t){t.rows.forEach((function(n){var r=e.toTrueArray(n,t);n.cells=r}))})),t},toTrueArray:function(t,e){function n(element){return!(element.style&&"none"===element.style.display)}var r=e.columnCount;e.hasImage&&(r+=1);var o=[],c=void 0,l=!0;return t.cells.forEach((function(e){n(t)&&(c&&c,-1!==e.col&&l&&(l=!1,0<e.col&&(c={col:0,html:"‌&zwnj;"},o.push(c))),n(e)&&(c&&c.col+1<e.col&&(c.colspan=e.col-c.col),o.push(e),c=e))})),c&&c.col+1<r-(t.makeSpaceForImage?1:0)&&(c.colspan=+r-c.col-(t.makeSpaceForImage?1:0)),o}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.app,r=t.params,o=t.errorHandler,c={},e.next=4,n.$axios.get("/units.json").then((function(t){return t&&t.data&&t.data[r.slug]?(c=t.data,n.$axios.get("/unit/".concat(r.slug,".json"))):o({statusCode:404})}),(function(t){l="".concat(t.address,":").concat(t.port," ").concat(n.i18n.t("no_longer_answer"))})).then((function(t){c[r.slug].rawData=t.data}),(function(t){c[r.slug].rawData=void 0})).catch((function(t){l="".concat(t.address,":").concat(t.port," ").concat(n.i18n.t("no_longer_answer"))}));case 4:return e.abrupt("return",{units:c,error:l});case 5:case"end":return e.stop()}}),e)})))()}},m=(n(438),n(8)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-lg"},[n("UnitBanner",{attrs:{unit_key:t.$route.params.slug,units:t.units,to:"blueprints"}}),t._v(" "),t.units[t.$route.params.slug]&&t.units[t.$route.params.slug].massaged?n("div",[n("ul",{staticClass:"nav nav-tabs",attrs:{id:"myTabs"}},[n("li",{staticClass:"discreet btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleBreadcrumbs()}}},[t.showBreadcrumbs?n("font-awesome-icon",{attrs:{icon:["fas","minus"]}}):n("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1),t._v(" "),t._l(t.sheets,(function(e,r){return n("li",{key:r,staticClass:"nav-item"},[n("a",{class:"nav-link "+(r==t.tabIndex?"active":""),attrs:{id:"_"+r,href:"#"+e.id,"data-bs-placement":"top","data-bs-toggle":"tab"}},[t._v("\n          "+t._s(e.title)+"\n        ")])])}))],2),t._v(" "),n("div",{staticClass:"tab-content mt-2"},t._l(t.sheets,(function(e,r){return n("div",{key:r,class:"tab-pane fade "+(r==t.tabIndex?"show active":""),attrs:{id:e.id}},[n("table",{staticClass:"excel table table-sm table-responsive table-borderless"},[n("thead"),t._v(" "),n("tbody",{class:t.showBreadcrumbs?"breadcrumbs":""},t._l(e.rows,(function(e,r){return n("tr",{key:r,style:e.style},t._l(e.cells,(function(e,r){return n("td",{key:r,class:e.class,style:e.style,attrs:{colspan:e.colspan,rowspan:e.rowspan,title:e.title}},[e.html?n("span",{domProps:{innerHTML:t._s(e.html)}}):n("span",[t._v(t._s(e.text))])])})),0)})),0)]),t._v(" "),"04_dati_costrutt_VERT_IQM"===e.name||"04_dati_costrutt_CARENZE"===e.name?n("div",{staticClass:"card float-end d-inline didascalia text-muted"},["04_dati_costrutt_VERT_IQM"===e.name?n("div",[n("div",[t._v("comportamento strutturale")]),t._v(" "),t._m(0,!0)]):t._e(),t._v(" "),t._m(1,!0)]):t._e()])})),0)]):t._e()],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"badge rounded-pill bg-success"},[t._v("A")]),t._v(" "),n("span",{staticClass:"text-success"},[t._v("buono")]),t._v(" "),n("span",{staticClass:"badge rounded-pill bg-warning"},[t._v("B")]),t._v(" "),n("span",{staticClass:"text-warning"},[t._v("medio")]),t._v(" "),n("span",{staticClass:"badge rounded-pill bg-danger"},[t._v("C")]),t._v(" "),n("span",{staticClass:"text-danger"},[t._v("scarso")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("stato di conservazione")]),t._v(" "),n("div",[n("span",{staticClass:"badge rounded-pill bg-success"},[t._v("1")]),t._v(" "),n("span",{staticClass:"text-success"},[t._v("buono")]),t._v(" "),n("span",{staticClass:"badge rounded-pill bg-warning"},[t._v("2")]),t._v(" "),n("span",{staticClass:"text-warning"},[t._v("medio")]),t._v(" "),n("span",{staticClass:"badge rounded-pill bg-danger"},[t._v("3")]),t._v(" "),n("span",{staticClass:"text-danger"},[t._v("scarso")]),t._v(" "),n("span",{staticClass:"badge rounded-pill bg-info"},[t._v("-")]),t._v(" "),n("span",{},[t._v("n/a")])])])}],!1,null,"480984ff",null);e.default=component.exports;installComponents(component,{UnitBanner:n(392).default})}}]);